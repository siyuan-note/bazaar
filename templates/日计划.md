.action{/*èŽ·å–æ–‡æ¡£çš„åŸºæœ¬ä¿¡æ¯*/}
.action{$notebox :=" "}
.action{$docid:=.id}
.action{$getdocInfo := (queryBlocks "SELECT * FROM blocks WHERE id='?' and type='d' " $docid )}
.action{range $v:= $getdocInfo}
	.action{$notebox =$v.Box}	
.action{end}

.action{/*èŽ·å–å½“å‰æ˜¯ç¬¬å‡ å‘¨*/}
	.action{$ng_duration := (toDate "2006-01-02" "2020-12-28").Sub now}
	.action{$weekhours:=mul 7 24}
	.action{$duration:=sub 0 $ng_duration.Hours }
	.action{$week := div $duration $weekhours}
	.action{$today:= (now | date "2006-01")}
	.action{$weekResult:= (list $today "Week" $week| join " ")}




.action{/*å¤§è‡´ä¼°ç®—ç¼–è¾‘çš„å­—æ•°*/}
	.action{$yesterday := now | date_modify "-24h" | date "20060102150405"}
	.action{$words:=0}
	.action{$words_block := (queryBlocks "SELECT * FROM blocks WHERE ( updated >'?' or created >'?') order by path limit -1" $notebox $yesterday  $yesterday  )}
	.action{range $v:= $words_block}
		.action{$words =add $words (len $v.Content) }
	.action{end}

.action{$week := add (mod (div ((toDate "2006-01-02" "2050-03-13").Sub now).Hours 24) 7) 1}

{{{col
{{{row
ðŸ• åˆ›å»ºæ—¶é—´ï¼š.action{now | date "2006-01-02 15:04"} .action{last (slice (list "æ˜ŸæœŸå…­" "æ˜ŸæœŸäº”" "æ˜ŸæœŸå››" "æ˜ŸæœŸä¸‰" "æ˜ŸæœŸäºŒ" "æ˜ŸæœŸä¸€" "æ˜ŸæœŸå¤©") 0 $week )}
}}}
{{{row
ðŸ‘æ˜¨å¤©ä½ ä¸€å…±ç¼–è¾‘äº† **.action{$words}** å­—
}}}
{: style="color: var(--b3-card-info-color); background-color: var(--b3-card-info-background);"}
}}}


{{{row

## Schedule
{: name=".action{now | date "2006-01-02"}"}




{{{col
{{{row
### â°é‡ç‚¹å·¥ä½œ
---
- [ ] 


}}}

{{{row
### â›±å…¶ä»–äº‹åŠ¡
---
- [ ] 


}}}

{{{row
### ðŸ§ è‡ªæˆ‘æå‡
---
- [ ]

}}}

}}}
{: name="" fold="0"}
.action{/*sä¸Šé¢è®¾ç½®å‘½åä¸ºç©ºå’Œä¸æŠ˜å ,ä¸ºäº†é˜²æ­¢è¶…çº§å—å†…éƒ¨çš„å±žæ€§é”™ä½,è¢«è¶…çº§å—èŽ·å–*/}
}}}


{{{row
## âœä»Šæ—¥æ€»ç»“
{: name=".action{now | date "2006-01-02"}"}

-

}}}
{: name="" fold="0"}
.action{/*sä¸Šé¢è®¾ç½®å‘½åä¸ºç©ºå’Œä¸æŠ˜å ,ä¸ºäº†é˜²æ­¢è¶…çº§å—å†…éƒ¨çš„å±žæ€§é”™ä½,è¢«è¶…çº§å—èŽ·å–*/}
---
## ðŸŒžæ˜Žæ—¥å®‰æŽ’


* 

---


.action{$dayleft := (div ((toDate "2006-01-02" "2022-01-01").Sub now).Hours 24)}
## ðŸš´ éšæœºå¤ä¹ 

> è·ç¦» `2022-01-01` è¿˜å‰© `.action{$dayleft}` å¤©ï¼ŒåŠ æ²¹ï¼
>

{{SELECT * FROM blocks where type = 'd' and root_id != '.action{.id}' and path not like '%daily%' ORDER BY random() LIMIT 1}}


